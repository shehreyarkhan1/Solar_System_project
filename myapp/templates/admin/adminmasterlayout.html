{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Responsive Admin Dashboard</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="{% static 'admin.css' %}">
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    {% block extra_css %}{% endblock %}

    <style></style>
  </head>

  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <!-- Solar Inverter Panel Logo -->
          <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <!-- Solar Panel -->
            <rect
              x="10"
              y="20"
              width="80"
              height="50"
              fill="#1a472a"
              stroke="#2d5a3d"
              stroke-width="2"
              rx="2"
            />
            <!-- Panel Grid -->
            <line
              x1="10"
              y1="35"
              x2="90"
              y2="35"
              stroke="#2d5a3d"
              stroke-width="1"
            />
            <line
              x1="10"
              y1="50"
              x2="90"
              y2="50"
              stroke="#2d5a3d"
              stroke-width="1"
            />
            <line
              x1="35"
              y1="20"
              x2="35"
              y2="70"
              stroke="#2d5a3d"
              stroke-width="1"
            />
            <line
              x1="65"
              y1="20"
              x2="65"
              y2="70"
              stroke="#2d5a3d"
              stroke-width="1"
            />
            <!-- Sun -->
            <circle cx="75" cy="15" r="8" fill="#ffd700" />
            <path
              d="M75,3 L75,7 M87,15 L83,15 M81,7 L78,10 M81,23 L78,20 M69,7 L72,10 M69,23 L72,20 M63,15 L67,15 M75,23 L75,27"
              stroke="#ffd700"
              stroke-width="2"
              stroke-linecap="round"
            />
            <!-- Inverter Box -->
            <rect
              x="30"
              y="75"
              width="40"
              height="20"
              fill="#4a5568"
              stroke="#2d3748"
              stroke-width="2"
              rx="2"
            />
            <!-- Display -->
            <rect
              x="35"
              y="80"
              width="15"
              height="8"
              fill="#00ff00"
              opacity="0.8"
            />
            <!-- LED Indicator -->
            <circle cx="60" cy="84" r="2" fill="#00ff00" />
            <!-- Connection Lines -->
            <line
              x1="50"
              y1="70"
              x2="50"
              y2="75"
              stroke="#2d3748"
              stroke-width="2"
            />
            <!-- Text -->
            <text
              x="50"
              y="12"
              text-anchor="middle"
              font-family="Arial"
              font-size="8"
              fill="white"
              font-weight="bold"
            >
              SOLAR
            </text>
          </svg>
        </a>
        <h3 class="navbar-text custom-text">Solar Energy Power Inverter</h3>
        <form action="{% url 'logout' %}" method="POST" style="display: inline">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger">Logout</button>
        </form>
      </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <ul>
        <li>
          <a href="{% url 'dashboard' %}">
            <i class="fas fa-dashboard"></i> Dashboard
          </a>
        </li>
        <li>
          <a
            data-bs-toggle="collapse"
            href="#homepagemenue"
            role="button"
            aria-expanded="false"
            aria-controls="homepagemenue"
          >
            <i class="fas fa-home"></i> Home Page
          </a>
          <ul class="collapse" id="homepagemenue">
            <li><a href="{% url 'products' %}">All Products</a></li>
            <li><a href="{% url  'homepage' %}">Slider Image</a></li>
            <li><a href="#">Officers</a></li>
            <li><a href="#">Menu Images 1</a></li>
            <li><a href="#">Video</a></li>
            <li><a href="#">Plot Information</a></li>
            <li><a href="#">Area Covered</a></li>
            <li><a href="#">Completed Works</a></li>
            <li><a href="#">Menu Images 2</a></li>
            <li><a href="#">Social Addresses</a></li>
          </ul>
        </li>
        <li>
          <a
            data-bs-toggle="collapse"
            href="#employeeMenu"
            role="button"
            aria-expanded="false"
            aria-controls="employeeMenu"
          >
            <i class="fas fa-user"></i> Employee
          </a>
          <ul class="collapse" id="employeeMenu">
            <li><a href="#">Employee</a></li>
          </ul>
        </li>
        <li>
          <a
            data-bs-toggle="collapse"
            href="#media"
            role="button"
            aria-expanded="false"
            aria-controls="media"
          >
            <i class="fas fa-images"></i> Media
          </a>
          <ul class="collapse" id="media">
            <li><a href="#">Media Picture</a></li>
          </ul>
        </li>
        <li>
          <a href="#"> <i class="fas fa-envelope"></i> Client Message </a>
        </li>
        <li>
          <a href="{% url 'registeruser' %}">
            <i class="fas fa-user-plus"></i> Register User
          </a>
        </li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="content" id="content">
      <div class="container-fluid">{% block content %}{% endblock %}</div>
    </div>

    {% comment %}
    <!-- Footer -->
    <footer>
      <div class="container">
        <small>
          &copy; Site design and developed by <strong>Shehreyar Khan</strong> /
          Phone: <strong>+92333-4504157</strong>. All Rights Reserved.
        </small>
      </div>
    </footer>
    {% endcomment %}

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script>
      // Sidebar functionality
      const sidebar = document.getElementById("sidebar");
      const sidebarToggle = document.getElementById("sidebarToggle");

      // Toggle sidebar visibility on button click
      sidebarToggle.addEventListener("click", () => {
        sidebar.classList.toggle("open");
      });

      // Automatically hide sidebar when resizing to a small screen
      window.addEventListener("resize", () => {
        if (window.innerWidth > 768) {
          sidebar.classList.remove("open");
        }
      });

      // Close sidebar when clicking outside on mobile
      document.addEventListener("click", (e) => {
        if (
          window.innerWidth <= 768 &&
          !sidebar.contains(e.target) &&
          !sidebarToggle.contains(e.target) &&
          sidebar.classList.contains("open")
        ) {
          sidebar.classList.remove("open");
        }
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Test if the link exists
        const productLink = document.querySelector(
          'a[href="{% url "products" %}"]'
        );
        console.log("Product link found:", productLink);

        // Add click listener to debug
        if (productLink) {
          productLink.addEventListener("click", function (e) {
            console.log("Product link clicked!");
            console.log("URL:", this.href);
          });
        }
      });
    </script>
  </body>
</html>
